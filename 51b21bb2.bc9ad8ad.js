(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{108:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return p})),a.d(t,"default",(function(){return O}));var n=a(2),l=a(6),r=(a(0),a(214)),b=a(215),i=(a(216),a(217)),c=(a(47),{id:"power-bi",sidebar_label:"POWER BI",title:"PowerBI Platform Configuration"}),o={unversionedId:"installation-guide/install-bihub-windows/agents/bi-platform-config/power-bi",id:"installation-guide/install-bihub-windows/agents/bi-platform-config/power-bi",isDocsHomePage:!1,title:"PowerBI Platform Configuration",description:"We need to Setup the application in Azure Active Directory",source:"@site/docs/installation-guide/install-bihub-windows/agents/bi-platform-config/power-bi.md",permalink:"/docs/installation-guide/install-bihub-windows/agents/bi-platform-config/power-bi",sidebar_label:"POWER BI",sidebar:"installationGuide",previous:{title:"QlikSense Platform Configuration",permalink:"/docs/installation-guide/install-bihub-windows/agents/bi-platform-config/qliksense"},next:{title:"File BI Platform Configuration",permalink:"/docs/installation-guide/install-bihub-windows/agents/bi-platform-config/file-bi"}},p=[],s={rightToc:p};function O(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"We need to Setup the application in Azure Active Directory "),Object(r.b)("p",null,"This application will be the communication point for the PowerBIAgent. All calls to the Microsoft API's will be made on behalf of this application. This guideline assumes that the user has a tenant in Azure. If the tenant is not present, please refer to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-howto-tenantfor"}),"https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-howto-tenantfor")," steps to acquire a tenant."),Object(r.b)("p",null,"Please contact the Active Directory Administrator to do the steps since some actions will require administrator consent."),Object(r.b)("p",null,"There are 3 main steps:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Set up the Application in Azure.")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Go to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://portal.azure.com"}),"https://portal.azure.com"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Navigate to Azure Active Directory and select App Registrations")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Click on New Applicant registration."),Object(r.b)("div",{style:{textAlign:"center"}},Object(r.b)(i.a,{mdxType:"Zoom"},Object(r.b)("img",{alt:"Azure Application setup",src:Object(b.a)("/doc-images/powerbi/azure-app-setup.png")}))),Object(r.b)("p",{parentName:"li"},Object(r.b)("em",{parentName:"p"},"Figure 3.4: Azure Application setup"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Set the name, type and redirect URI of the application. The type should be Native and the Redirect URI must be formatted as follows:https://servername:port/Redirect. Once the data is entered, click on Create. This URI should reflect the PowerBI Agent machine hostname or public IP address and the port at which the new agent instance needs to be created."),Object(r.b)("div",{style:{textAlign:"center"}},Object(r.b)(i.a,{mdxType:"Zoom"},Object(r.b)("img",{alt:"Application Registration",src:Object(b.a)("/doc-images/powerbi/application-registeration.png")}))),Object(r.b)("p",{parentName:"li"},"Figure 3.5: Application Registration")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Note the Application ID upon successfully registering the application."),Object(r.b)("div",{style:{textAlign:"center"}},Object(r.b)(i.a,{mdxType:"Zoom"},Object(r.b)("img",{alt:"New Application Id",src:Object(b.a)("/doc-images/powerbi/new-app-id.png")})))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},'Provide this under the key "CLIENTID" in the ',Object(r.b)("em",{parentName:"p"},"config.json")," file in the PowerBI agent.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"To verify the Redirect URI, Click on the application and go to Settings. Select Redirect URI. The URI given during create will be reflected here."),Object(r.b)("div",{style:{textAlign:"center"}},Object(r.b)(i.a,{mdxType:"Zoom"},Object(r.b)("img",{alt:"Settings page & Redirect URI",src:Object(b.a)("/doc-images/powerbi/settings-redirect.png")}))),Object(r.b)("p",{parentName:"li"},Object(r.b)("em",{parentName:"p"},"Figure 3.6: Settings page & Redirect URI")))),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},"Create the Application Secret.")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Open the application inAzure Portal. Navigate to All Settings \u2192Keys and create a new key.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Specify a desired value for the key name and note down the value provided."),Object(r.b)("div",{style:{textAlign:"center"}},Object(r.b)(i.a,{mdxType:"Zoom"},Object(r.b)("img",{alt:"Application Key setup",src:Object(b.a)("/doc-images/powerbi/app-key-setup.png")}))),Object(r.b)("p",{parentName:"li"},Object(r.b)("em",{parentName:"p"},"Figure 3.7: Application Key setup"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Note that, this value will be displayed only once and will not be displayed again after we close the blade. This value will be the CLIENTSECRET in the config.json file of Power BI Agent.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"If failed to note down the value, please repeat step two to create a new key."))),Object(r.b)("ol",{start:3},Object(r.b)("li",{parentName:"ol"},"Configure Permissions for the Application")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The application requires some permission to do the actions on behalf of the user. "),Object(r.b)("li",{parentName:"ul"},"Click on the application and go to settings \u2192required permissions. "),Object(r.b)("li",{parentName:"ul"},"Click on Add."),Object(r.b)("li",{parentName:"ul"},"Map the permissions for the API's referring to the table below for Microsoft Graph API , Windows Azure Active Directory APIand Microsoft Power BI API .")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"th"},"API")),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"th"},"Permissions")),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"th"},"Access Details")))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"td"},"Microsoft Graph")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Profile"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View Users Basic Profile")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Email"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View Users Email Address")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Group.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Read All Groups")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"User.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Read all users' full profile")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"td"},"Microsoft Azure Active Directory")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Directory.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Read Directory Data")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Group.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Read All Groups")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"User.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Read All Users' full profiles")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"User.Read"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Sign in and read user profile")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Directory.AccessAsUser.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Access the directory as the signed-in user")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"td"},"Power BI Service")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dashboard.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View All Dashboards")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dataset.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View all datasets")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dataset.ReadWrite.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Read and write all datasets")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Metadata.View_Any"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View Content Properties")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Report.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View All Reports")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Group.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View All Groups")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Group.Read"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View User's Group")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Report.ReadWrite.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Read and write all reports")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"App.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View All PowerBI Apps")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Capacity.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View all capacities")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Tenant.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View All content in tenant")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Workspace.Read.All"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"View all workspaces")))),Object(r.b)("p",null," ",Object(r.b)("em",{parentName:"p"},"Table 3.3: Permissions to be given")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Click Save. Upon granting the permissions, click Grant Permissions to delegate the permissions to the service account.")),Object(r.b)("div",{style:{textAlign:"center"}},Object(r.b)(i.a,{mdxType:"Zoom"},Object(r.b)("img",{alt:"Permissions to be given",src:Object(b.a)("/doc-images/powerbi/permission.png")}))),Object(r.b)("p",null,"  ",Object(r.b)("em",{parentName:"p"},"Figure 3.8: Permissions")),Object(r.b)("p",null,"The below listed Permissions need to be given to the BI Hub Power BI Agent service account"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Office 365 Global Administrator"),Object(r.b)("li",{parentName:"ol"},"Power BI Service Administrator")))}O.isMDXComponent=!0}}]);